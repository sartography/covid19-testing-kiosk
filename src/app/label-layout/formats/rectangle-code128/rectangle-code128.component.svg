<svg
  class="label-layout-format"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  [attr.width]="labelLayout.dimensions.pageWidth"
  [attr.height]="labelLayout.dimensions.pageHeight"
  [attr.viewBox]="'0 0 ' + width + ' ' + height"
>
  <defs>
    <g id="up_arrow">
      <g transform="translate(0, 2)">
        <text x="1" y="0">UP</text>
        <g transform="translate(2, -2)">
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" transform="scale(0.1)"/>
        </g>
      </g>
    </g>
  </defs>
  <g [attr.transform]="'translate(' + marginHorizontal + ', ' + marginVertical + ')'">
    <rect
      class="label-layout-border"
      fill="#FFFFFF"
      stroke="#CCCCCC"
      stroke-width="0.2"
      [attr.width]="widthMinusMargins"
      [attr.height]="heightMinusMargins"
      x="0"
      y="0"
      rx="2"
    />
    <use
      xlink:href="#up_arrow"
      [attr.x]="width - (marginHorizontal * 5.5)"
      [attr.y]="marginVertical"
    />
    <use
      xlink:href="#up_arrow"
      [attr.x]="width - (marginHorizontal * 5.5)"
      [attr.y]="height - (marginVertical * 4.25)"
    />
  </g>
  <text x="50%" [attr.y]="marginVertical * 4" style="font-size: 2.7px">
    #{{sample.student_id}}
    {{sample.initials}}
  </text>
  <text x="50%" [attr.y]="marginVertical * 5.5" style="font-size: 2.7px">
    {{sample.date | date:'yyyy-MM-dd HH:mm'}}
    {{sample.location}}
  </text>
  <g [attr.transform]="'translate(0, ' + (height/2 + 0.75) + ')'">
    <text x="50%" y="0" class="code128-barcode">{{encodedCode128String}}</text>
    <text x="50%" y="5.6" class="code128-barcode">{{encodedCode128String}}</text>
  </g>
  <text x="50%" [attr.y]="height - (marginVertical * 3.5)" style="font-size: 2.7px">{{sample.barcode}}</text>
</svg>
